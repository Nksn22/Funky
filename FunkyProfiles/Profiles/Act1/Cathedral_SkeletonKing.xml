<Profile>
  <Name>Bounty A1 Skeleton King</Name>
  <KillMonsters>True</KillMonsters>
  <PickupLoot>True</PickupLoot>
  <GameParams act="OpenWorld" resumeFromSave="False" isPrivate="True" numGames="-1"  />
  
    <Order>
      <While condition="CurrentWorldId != 50585 and CurrentWorldId != 73261">
        <FunkyWaypoint ID="5" />
      </While>

      <HaveBounty questId="361234">
        <If condition="CurrentWorldId == 50585">
          <TrinityUseOnce id="0">
            <SafeMoveTo questId="312429" stepId="2" x="871" y="580" z="1" pathPrecision="20" pathPointLimit="250" statusText="" />
          </TrinityUseOnce>
          <TrinityUseOnce id="1">
            <SafeMoveTo questId="312429" stepId="2" x="625" y="575" z="0" pathPrecision="20" pathPointLimit="250" statusText="" />
          </TrinityUseOnce>
          <TrinityUseOnce id="2">
            <SafeMoveTo questId="312429" stepId="2" x="453" y="580" z="0" pathPrecision="15" pathPointLimit="250" statusText="" />
          </TrinityUseOnce>
          <TrinityUseOnce id="3">
            <SafeMoveTo questId="312429" stepId="2" x="341" y="577" z="1" pathPrecision="20" pathPointLimit="250" statusText="" />
          </TrinityUseOnce>
          <TrinityUseOnce id="4">
            <SafeMoveTo questId="312429" stepId="2" x="344" y="499" z="0" pathPrecision="5" pathPointLimit="250" statusText="" />
          </TrinityUseOnce>

          <!-- Portal to Skeleton King Tomb -->
          <MoveToActor questId="1" stepId="2" actorId="159573" isPortal="True" destinationWorldId="73261" x="343" y="481" z="0" />
          <WaitTimer questId="1" stepId="2" waitTime="1000" />
        </If>

        <If condition="CurrentWorldId == 50585">
          <!-- Open Onate Door to Skeleton King Tomb -->
          <!-- Door to Portal -->
          <MoveToActor questId="1" stepId="2" actorId="5944" x="343" y="481" z="0" endAnimation="trDun_SkeletonKIng_Sealed_Door_Open"  />
          <WaitTimer questId="1" stepId="2" waitTime="1000" />
        </If>

        <If condition="CurrentWorldId == 73261">
          <!-- Place Leoric's crown on the Skeleton King -->
          <MoveToActor questId="1" stepId="2" actorId="5354" x="340" y="262" z="18" />
          <WaitTimer questId="1" stepId="2" waitTime="1000" />
        </If>

        <If condition="CurrentWorldId == 50585">
          <!-- Skeleton King Death Handling -->
          <MoveToActor questId="1" stepId="2" actorId="159573" isPortal="True" destinationWorldId="73261" x="343" y="481" z="0" />
          <WaitTimer questId="1" stepId="2" waitTime="1000" />
        </If>

        <If condition="CurrentWorldId == 50585">
          <!-- Skeleton King Death Handling (Enter Desolate Chamber - already killed Skele King) -->
          <MoveToActor questId="1" stepId="2" actorId="159573" isPortal="True" destinationWorldId="73261" x="343" y="481" z="0" />
          <WaitTimer questId="1" stepId="2" waitTime="1000" />
        </If>

        <If condition="CurrentWorldId == 73261">
          <!-- Death Handling: Place Leoric's crown on the Skeleton King -->
          <MoveToActor questId="1" stepId="2" actorId="5354" x="340" y="262" z="18" />
          <WaitTimer questId="1" stepId="2" waitTime="1000" />
        </If>

        <WaitTimer questId="1" stepId="2" waitTime="15000" />
        <If condition="CurrentWorldId == 73261">
          <!-- Kill the Skeleton King -->
          <SafeMoveTo questId="1" stepId="2" name="Kill the Skeleton King" pathPrecision="10" x="339" y="271" z="15" />
          <WaitTimer questId="1" stepId="2" waitTime="1000" />
        </If>
      </HaveBounty>

      <LoadProfile profile="_Act1BountyLoader.xml" />
   </Order>

</Profile>